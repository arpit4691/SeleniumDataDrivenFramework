pipeline
{
agent any

stages
{
stage('Build')
{
steps
{
echo 'Build Project'
}

}
stage('deploy')
{
steps{
echo 'deploying the code'
}

}
stage('test')
{
steps{
echo 'test the project'
}

}

stage('Unit Testing')
{
steps{
echo 'unit testing'
}

}

stage('Create build output')
{
steps{
	// Make the output directory.
    sh "mkdir -p output"

    // Write an useful file, which is needed to be archived.
    writeFile file: "output/usefulfile.txt", text: "This file is useful, need to archive it."

    // Write an useless file, which is not needed to be archived.
    writeFile file: "output/uselessfile.md", text: "This file is useless, no need to archive it."
}
}
    
stage('Release')
{
when{
branch 'origin/main'
}
steps{
echo 'releasing the project'
}

}

}

}